(function(q){'use strict';var r=function(a){a=a||{};for(var i=1;i<arguments.length;i++){var b=arguments[i];if(!b)continue;for(var c in b){if(b.hasOwnProperty(c)){if(typeof b[c]==='object')r(a[c],b[c]);else a[c]=b[c]}}}return a};var s=function(m){var n={};var o={debug:false,eventErrorHandler:function(e,a,b,c){console.error('Event handler for "%s" resulted in error:',a,e,b,c)}};m=m||{};var p=r({},o,m);this.on=function(a,b){if(p.debug){console.info('Attached handler to event "%s"',a,b)}if('undefined'===typeof n[a]){n[a]=[]}n[a].push(b)};this.emmit=function(){var j=(function(a){var b=[];for(var i in a){b.push(a[i])}return b})(arguments);var k=j.shift();if('undefined'===typeof n[k]){if(p.debug){console.info('No handlers registered for event "%s"',k)}return}var l=n[k];(function(f,g){for(var i in f){var h=(function(a,b,c,d){try{a.apply(null,c)}catch(e){d.eventErrorHandler(e,b,c,a)}});q.setTimeout(h.bind(null,f[i],k,g,p),0)}})(l,j)}};q.EventMachine=function(a){return new s(a)}})(window);